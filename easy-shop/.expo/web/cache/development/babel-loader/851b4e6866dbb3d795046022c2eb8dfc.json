{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Left, Right, Container, H1 } from 'native-base';\nimport Toast from 'react-native-toast-message';\nimport EasyButton from \"../../Shared/StyledComponents/EasyButton\";\nimport TrafficLight from \"../../Shared/StyledComponents/TrafficLight\";\nimport { connect } from 'react-redux';\nimport * as actions from \"../../Redux/Actions/cartActions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SingleProduct = function SingleProduct(props) {\n  var _useState = useState(props.route.params.item),\n    _useState2 = _slicedToArray(_useState, 2),\n    item = _useState2[0],\n    setItem = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    availability = _useState4[0],\n    setAvailability = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    availabilityText = _useState6[0],\n    setAvailabilityText = _useState6[1];\n  useEffect(function () {\n    if (props.route.params.item.countInStock == 0) {\n      setAvailability(_jsx(TrafficLight, {\n        unavailable: true\n      }));\n      setAvailabilityText(\"Unvailable\");\n    } else if (props.route.params.item.countInStock <= 5) {\n      setAvailability(_jsx(TrafficLight, {\n        limited: true\n      }));\n      setAvailabilityText(\"Limited Stock\");\n    } else {\n      setAvailability(_jsx(TrafficLight, {\n        available: true\n      }));\n      setAvailabilityText(\"Available\");\n    }\n    return function () {\n      setAvailability(null);\n      setAvailabilityText(\"\");\n    };\n  }, []);\n  return _jsxs(Container, {\n    style: styles.container,\n    children: [_jsxs(ScrollView, {\n      style: {\n        marginBottom: 80,\n        padding: 5\n      },\n      children: [_jsx(View, {\n        children: _jsx(Image, {\n          source: {\n            uri: item.image ? item.image : 'https://cdn.pixabay.com/photo/2012/04/01/17/29/box-23649_960_720.png'\n          },\n          resizeMode: \"contain\",\n          style: styles.image\n        })\n      }), _jsxs(View, {\n        style: styles.contentContainer,\n        children: [_jsx(H1, {\n          style: styles.contentHeader,\n          children: item.name\n        }), _jsx(Text, {\n          style: styles.contentText,\n          children: item.brand\n        })]\n      }), _jsxs(View, {\n        style: styles.availabilityContainer,\n        children: [_jsxs(View, {\n          style: styles.availability,\n          children: [_jsxs(Text, {\n            style: {\n              marginRight: 10\n            },\n            children: [\"Availability: \", availabilityText]\n          }), availability]\n        }), _jsx(Text, {\n          children: item.description\n        })]\n      })]\n    }), _jsxs(View, {\n      style: styles.bottomContainer,\n      children: [_jsx(Left, {\n        children: _jsxs(Text, {\n          style: styles.price,\n          children: [\"$ \", item.price]\n        })\n      }), _jsx(Right, {\n        children: _jsx(EasyButton, {\n          primary: true,\n          medium: true,\n          onPress: function onPress() {\n            props.addItemToCart(item.id), Toast.show({\n              topOffset: 60,\n              type: \"success\",\n              text1: item.name + \" added to Cart\",\n              text2: \"Go to your cart to complete order\"\n            });\n          },\n          children: _jsx(Text, {\n            style: {\n              color: 'white'\n            },\n            children: \"Add\"\n          })\n        })\n      })]\n    })]\n  });\n};\nvar mapToDispatchToProps = function mapToDispatchToProps(dispatch) {\n  return {\n    addItemToCart: function addItemToCart(product) {\n      return dispatch(actions.addToCart({\n        quantity: 1,\n        product: product\n      }));\n    }\n  };\n};\nvar styles = StyleSheet.create({\n  container: {\n    position: 'relative',\n    height: '100%'\n  },\n  imageContainer: {\n    backgroundColor: 'white',\n    padding: 0,\n    margin: 0\n  },\n  image: {\n    width: '100%',\n    height: 250\n  },\n  contentContainer: {\n    marginTop: 20,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  contentHeader: {\n    fontWeight: 'bold',\n    marginBottom: 20\n  },\n  contentText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 20\n  },\n  bottomContainer: {\n    flexDirection: 'row',\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    backgroundColor: 'white'\n  },\n  price: {\n    fontSize: 24,\n    margin: 20,\n    color: 'red'\n  },\n  availabilityContainer: {\n    marginBottom: 20,\n    alignItems: \"center\"\n  },\n  availability: {\n    flexDirection: 'row',\n    marginBottom: 10\n  }\n});\nexport default connect(null, mapToDispatchToProps)(SingleProduct);","map":{"version":3,"names":["React","useState","useEffect","Left","Right","Container","H1","Toast","EasyButton","TrafficLight","connect","actions","SingleProduct","props","route","params","item","setItem","availability","setAvailability","availabilityText","setAvailabilityText","countInStock","styles","container","marginBottom","padding","uri","image","contentContainer","contentHeader","name","contentText","brand","availabilityContainer","marginRight","description","bottomContainer","price","addItemToCart","id","show","topOffset","type","text1","text2","color","mapToDispatchToProps","dispatch","product","addToCart","quantity","StyleSheet","create","position","height","imageContainer","backgroundColor","margin","width","marginTop","justifyContent","alignItems","fontWeight","fontSize","flexDirection","bottom","left"],"sources":["C:/Users/AfroMiNA/OneDrive/Desktop/ecom/mern-stack-ecommerce/easy-shop/Screens/Products/SingleProduct.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Image, View, StyleSheet, Text, ScrollView, Button } from 'react-native';\r\nimport { Left, Right, Container, H1 } from 'native-base';\r\nimport Toast from 'react-native-toast-message';\r\nimport EasyButton from '../../Shared/StyledComponents/EasyButton'\r\nimport TrafficLight from '../../Shared/StyledComponents/TrafficLight'\r\n\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../../Redux/Actions/cartActions';\r\n\r\nconst SingleProduct = (props) => {\r\n\r\n    const [item, setItem] = useState(props.route.params.item);\r\n    const [availability, setAvailability] = useState(null);\r\n    const [availabilityText, setAvailabilityText] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        if (props.route.params.item.countInStock == 0) {\r\n            setAvailability(<TrafficLight unavailable></TrafficLight>);\r\n            setAvailabilityText(\"Unvailable\")\r\n        } else if (props.route.params.item.countInStock <= 5) {\r\n            setAvailability(<TrafficLight limited></TrafficLight>);\r\n            setAvailabilityText(\"Limited Stock\")\r\n        } else {\r\n            setAvailability(<TrafficLight available></TrafficLight>);\r\n            setAvailabilityText(\"Available\")\r\n        }\r\n\r\n        return () => {\r\n            setAvailability(null);\r\n            setAvailabilityText(\"\");\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <Container style={styles.container}>\r\n            <ScrollView style={{ marginBottom: 80, padding: 5 }}>\r\n                <View>\r\n                    <Image \r\n                        source={{\r\n                            uri: item.image ? item.image \r\n                            : 'https://cdn.pixabay.com/photo/2012/04/01/17/29/box-23649_960_720.png'\r\n                        }}\r\n                        resizeMode=\"contain\"\r\n                        style={styles.image}\r\n                    />\r\n                </View>\r\n                <View style={styles.contentContainer}>\r\n                    <H1 style={styles.contentHeader}>{item.name}</H1>\r\n                    <Text style={styles.contentText}>{item.brand}</Text>\r\n                </View>\r\n                <View style={styles.availabilityContainer}>\r\n                    <View style={styles.availability}>\r\n                        <Text style={{ marginRight: 10 }}>\r\n                            Availability: {availabilityText}\r\n                        </Text>\r\n                        {availability}\r\n                    </View>\r\n                    <Text>{item.description}</Text>\r\n                </View>\r\n            </ScrollView>\r\n\r\n            <View style={styles.bottomContainer}>\r\n                <Left>\r\n                    <Text style={styles.price}>$ {item.price}</Text>\r\n                </Left>\r\n                <Right>\r\n                   <EasyButton \r\n                   primary\r\n                   medium\r\n                   onPress={() => {props.addItemToCart(item.id),\r\n                        Toast.show({\r\n                            topOffset: 60,\r\n                            type: \"success\",\r\n                            text1: `${item.name} added to Cart`,\r\n                            text2: \"Go to your cart to complete order\"\r\n                        })\r\n                }}\r\n                   >\r\n                       <Text style={{ color: 'white'}}>Add</Text>\r\n                   </EasyButton>\r\n                </Right>\r\n            </View>\r\n        </Container>\r\n    )\r\n\r\n}\r\n\r\nconst mapToDispatchToProps = (dispatch) => {\r\n    return {\r\n        addItemToCart: (product) => \r\n            dispatch(actions.addToCart({quantity: 1, product}))\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        position: 'relative',\r\n        height: '100%'\r\n    },\r\n    imageContainer: {\r\n        backgroundColor: 'white',\r\n        padding: 0,\r\n        margin: 0\r\n    },\r\n    image: {\r\n        width: '100%',\r\n        height: 250\r\n    },\r\n    contentContainer: {\r\n        marginTop: 20,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    contentHeader: {\r\n        fontWeight: 'bold',\r\n        marginBottom: 20\r\n    },\r\n    contentText: {\r\n        fontSize: 18,\r\n        fontWeight: 'bold',\r\n        marginBottom: 20\r\n    },\r\n    bottomContainer: {\r\n        flexDirection: 'row',\r\n        position: 'absolute',\r\n        bottom: 0,\r\n        left: 0,\r\n        backgroundColor: 'white'\r\n    },\r\n    price: {\r\n        fontSize: 24,\r\n        margin: 20,\r\n        color: 'red'\r\n    },\r\n    availabilityContainer: {\r\n        marginBottom: 20,\r\n        alignItems: \"center\"\r\n    },\r\n    availability: {\r\n        flexDirection: 'row',\r\n        marginBottom: 10,\r\n    }\r\n})\r\n\r\nexport default connect(null, mapToDispatchToProps)(SingleProduct);"],"mappings":"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"},"metadata":{},"sourceType":"module"}
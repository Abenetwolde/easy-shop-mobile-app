{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/tiago/Desktop/MERN_Course/easy-shop/Screens/Products/ProductContainer.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Container, Header, Icon, Item, Input, Text } from \"native-base\";\nimport ProductList from \"./ProductList\";\nimport SearchedProduct from \"./SearchedProducts\";\nimport Banner from \"../../Shared/Banner\";\nimport CategoryFilter from \"./CategoryFilter\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height;\n\nvar data = require(\"../../assets/data/products.json\");\n\nvar productsCategories = require(\"../../assets/data/categories.json\");\n\nvar ProductContainer = function ProductContainer() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      productsFiltered = _useState4[0],\n      setProductsFiltered = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      focus = _useState6[0],\n      setFocus = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      categories = _useState8[0],\n      setCategories = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      productsCtg = _useState10[0],\n      setProductsCtg = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      active = _useState12[0],\n      setActive = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      initialState = _useState14[0],\n      setInitialState = _useState14[1];\n\n  useEffect(function () {\n    setProducts(data);\n    setProductsFiltered(data);\n    setFocus(false);\n    setCategories(productsCategories);\n    setProductsCtg(data);\n    setActive(-1);\n    setInitialState(data);\n    return function () {\n      setProducts([]);\n      setProductsFiltered([]);\n      setFocus();\n      setCategories([]);\n      setActive();\n      setInitialState();\n    };\n  }, []);\n\n  var searchProduct = function searchProduct(text) {\n    setProductsFiltered(products.filter(function (i) {\n      return i.name.toLowerCase().includes(text.toLowerCase());\n    }));\n  };\n\n  var openList = function openList() {\n    setFocus(true);\n  };\n\n  var onBlur = function onBlur() {\n    setFocus(false);\n  };\n\n  var changeCtg = function changeCtg(ctg) {\n    {\n      ctg === \"all\" ? [setProductsCtg(initialState), setActive(true)] : [setProductsCtg(products.filter(function (i) {\n        return i.category.$oid === ctg;\n      }), setActive(true))];\n    }\n  };\n\n  return React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, React.createElement(Header, {\n    searchBar: true,\n    rounded: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, React.createElement(Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, React.createElement(Icon, {\n    name: \"ios-search\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }), React.createElement(Input, {\n    placeholder: \"Search\",\n    onFocus: openList,\n    onChangeText: function onChangeText(text) {\n      return searchProduct(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }), focus == true ? React.createElement(Icon, {\n    onPress: onBlur,\n    name: \"ios-close\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 28\n    }\n  }) : null)), focus == true ? React.createElement(SearchedProduct, {\n    productsFiltered: productsFiltered,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }) : React.createElement(ScrollView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, React.createElement(Banner, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, React.createElement(CategoryFilter, {\n    categories: categories,\n    categoryFilter: changeCtg,\n    productsCtg: productsCtg,\n    active: active,\n    setActive: setActive,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  })), productsCtg.length > 0 ? React.createElement(View, {\n    style: styles.listContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, productsCtg.map(function (item) {\n    return React.createElement(ProductList, {\n      key: item._id,\n      item: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    });\n  })) : React.createElement(View, {\n    style: [styles.center, {\n      height: height / 2\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, \"No products found\")))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flexWrap: \"wrap\",\n    backgroundColor: \"gainsboro\"\n  },\n  listContainer: {\n    height: height,\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"flex-start\",\n    flexWrap: \"wrap\",\n    backgroundColor: \"gainsboro\"\n  },\n  center: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\nexport default ProductContainer;","map":{"version":3,"sources":["/Users/tiago/Desktop/MERN_Course/easy-shop/Screens/Products/ProductContainer.js"],"names":["React","useState","useEffect","Container","Header","Icon","Item","Input","Text","ProductList","SearchedProduct","Banner","CategoryFilter","Dimensions","get","height","data","require","productsCategories","ProductContainer","products","setProducts","productsFiltered","setProductsFiltered","focus","setFocus","categories","setCategories","productsCtg","setProductsCtg","active","setActive","initialState","setInitialState","searchProduct","text","filter","i","name","toLowerCase","includes","openList","onBlur","changeCtg","ctg","category","$oid","length","styles","listContainer","map","item","_id","center","StyleSheet","create","container","flexWrap","backgroundColor","flex","flexDirection","alignItems","justifyContent"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;;;AASA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,IAA5B,EAAkCC,IAAlC,EAAwCC,KAAxC,EAA+CC,IAA/C,QAA2D,aAA3D;AAEA,OAAOC,WAAP;AACA,OAAOC,eAAP;AACA,OAAOC,MAAP;AACA,OAAOC,cAAP;;sBAEiBC,UAAU,CAACC,GAAX,CAAe,QAAf,C;IAAXC,M,mBAAAA,M;;AACN,IAAMC,IAAI,GAAGC,OAAO,mCAApB;;AACA,IAAMC,kBAAkB,GAAGD,OAAO,qCAAlC;;AAEA,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAAA,kBACGlB,QAAQ,CAAC,EAAD,CADX;AAAA;AAAA,MACtBmB,QADsB;AAAA,MACZC,WADY;;AAAA,mBAEmBpB,QAAQ,CAAC,EAAD,CAF3B;AAAA;AAAA,MAEtBqB,gBAFsB;AAAA,MAEJC,mBAFI;;AAAA,mBAGHtB,QAAQ,EAHL;AAAA;AAAA,MAGtBuB,KAHsB;AAAA,MAGfC,QAHe;;AAAA,mBAIOxB,QAAQ,CAAC,EAAD,CAJf;AAAA;AAAA,MAItByB,UAJsB;AAAA,MAIVC,aAJU;;AAAA,mBAKS1B,QAAQ,CAAC,EAAD,CALjB;AAAA;AAAA,MAKtB2B,WALsB;AAAA,MAKTC,cALS;;AAAA,oBAMD5B,QAAQ,EANP;AAAA;AAAA,MAMtB6B,MANsB;AAAA,MAMdC,SANc;;AAAA,oBAOW9B,QAAQ,CAAC,EAAD,CAPnB;AAAA;AAAA,MAOtB+B,YAPsB;AAAA,MAORC,eAPQ;;AAS7B/B,EAAAA,SAAS,CAAC,YAAM;AACdmB,IAAAA,WAAW,CAACL,IAAD,CAAX;AACAO,IAAAA,mBAAmB,CAACP,IAAD,CAAnB;AACAS,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACAE,IAAAA,aAAa,CAACT,kBAAD,CAAb;AACAW,IAAAA,cAAc,CAACb,IAAD,CAAd;AACAe,IAAAA,SAAS,CAAC,CAAC,CAAF,CAAT;AACAE,IAAAA,eAAe,CAACjB,IAAD,CAAf;AAEA,WAAO,YAAM;AACXK,MAAAA,WAAW,CAAC,EAAD,CAAX;AACAE,MAAAA,mBAAmB,CAAC,EAAD,CAAnB;AACAE,MAAAA,QAAQ;AACRE,MAAAA,aAAa,CAAC,EAAD,CAAb;AACAI,MAAAA,SAAS;AACTE,MAAAA,eAAe;AAChB,KAPD;AAQD,GAjBQ,EAiBN,EAjBM,CAAT;;AAoBA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAU;AAC9BZ,IAAAA,mBAAmB,CACjBH,QAAQ,CAACgB,MAAT,CAAgB,UAACC,CAAD;AAAA,aAAOA,CAAC,CAACC,IAAF,CAAOC,WAAP,GAAqBC,QAArB,CAA8BL,IAAI,CAACI,WAAL,EAA9B,CAAP;AAAA,KAAhB,CADiB,CAAnB;AAGD,GAJD;;AAMA,MAAME,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrBhB,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,GAFD;;AAIA,MAAMiB,MAAM,GAAG,SAATA,MAAS,GAAM;AACnBjB,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACD,GAFD;;AAKA,MAAMkB,SAAS,GAAG,SAAZA,SAAY,CAACC,GAAD,EAAS;AACzB;AACEA,MAAAA,GAAG,KAAK,KAAR,GACI,CAACf,cAAc,CAACG,YAAD,CAAf,EAA+BD,SAAS,CAAC,IAAD,CAAxC,CADJ,GAEI,CACEF,cAAc,CACZT,QAAQ,CAACgB,MAAT,CAAgB,UAACC,CAAD;AAAA,eAAOA,CAAC,CAACQ,QAAF,CAAWC,IAAX,KAAoBF,GAA3B;AAAA,OAAhB,CADY,EAEZb,SAAS,CAAC,IAAD,CAFG,CADhB,CAFJ;AAQD;AACF,GAXD;;AAaA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,MAAjB;AAAkB,IAAA,OAAO,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,KAAD;AACE,IAAA,WAAW,EAAC,QADd;AAEE,IAAA,OAAO,EAAEU,QAFX;AAGE,IAAA,YAAY,EAAE,sBAACN,IAAD;AAAA,aAAUD,aAAa,CAACC,IAAD,CAAvB;AAAA,KAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAOGX,KAAK,IAAI,IAAT,GAAgB,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAEkB,MAAf;AAAuB,IAAA,IAAI,EAAC,WAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAhB,GAA6D,IAPhE,CADF,CADF,EAYGlB,KAAK,IAAI,IAAT,GACC,oBAAC,eAAD;AAAiB,IAAA,gBAAgB,EAAEF,gBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAGC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,cAAD;AACE,IAAA,UAAU,EAAEI,UADd;AAEE,IAAA,cAAc,EAAEiB,SAFlB;AAGE,IAAA,WAAW,EAAEf,WAHf;AAIE,IAAA,MAAM,EAAEE,MAJV;AAKE,IAAA,SAAS,EAAEC,SALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,EAaGH,WAAW,CAACmB,MAAZ,GAAqB,CAArB,GACD,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEC,MAAM,CAACC,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKrB,WAAW,CAACsB,GAAZ,CAAgB,UAACC,IAAD,EAAU;AACvB,WACI,oBAAC,WAAD;AACI,MAAA,GAAG,EAAEA,IAAI,CAACC,GADd;AAEI,MAAA,IAAI,EAAED,IAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAMH,GAPA,CADL,CADC,GAYG,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE,CAACH,MAAM,CAACK,MAAR,EAAgB;AAAEtC,MAAAA,MAAM,EAAEA,MAAM,GAAG;AAAnB,KAAhB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,CAzBN,CADF,CAfJ,CADF;AAoDD,CA7GD;;AA+GA,IAAMiC,MAAM,GAAGM,UAAU,CAACC,MAAX,CAAkB;AAC/BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,QAAQ,EAAE,MADD;AAETC,IAAAA,eAAe,EAAE;AAFR,GADoB;AAK/BT,EAAAA,aAAa,EAAE;AACblC,IAAAA,MAAM,EAAEA,MADK;AAEb4C,IAAAA,IAAI,EAAE,CAFO;AAGbC,IAAAA,aAAa,EAAE,KAHF;AAIbC,IAAAA,UAAU,EAAE,YAJC;AAKbJ,IAAAA,QAAQ,EAAE,MALG;AAMbC,IAAAA,eAAe,EAAE;AANJ,GALgB;AAa/BL,EAAAA,MAAM,EAAE;AACJS,IAAAA,cAAc,EAAE,QADZ;AAEJD,IAAAA,UAAU,EAAE;AAFR;AAbuB,CAAlB,CAAf;AAmBA,eAAe1C,gBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  View,\n  StyleSheet,\n  ActivityIndicator,\n  FlatList,\n  ScrollView,\n  Dimensions\n} from \"react-native\";\nimport { Container, Header, Icon, Item, Input, Text } from \"native-base\";\n\nimport ProductList from \"./ProductList\";\nimport SearchedProduct from \"./SearchedProducts\";\nimport Banner from \"../../Shared/Banner\";\nimport CategoryFilter from \"./CategoryFilter\";\n\nvar { height } = Dimensions.get('window')\nconst data = require(\"../../assets/data/products.json\");\nconst productsCategories = require(\"../../assets/data/categories.json\");\n\nconst ProductContainer = () => {\n  const [products, setProducts] = useState([]);\n  const [productsFiltered, setProductsFiltered] = useState([]);\n  const [focus, setFocus] = useState();\n  const [categories, setCategories] = useState([]);\n  const [productsCtg, setProductsCtg] = useState([]);\n  const [active, setActive] = useState();\n  const [initialState, setInitialState] = useState([]);\n\n  useEffect(() => {\n    setProducts(data);\n    setProductsFiltered(data);\n    setFocus(false);\n    setCategories(productsCategories);\n    setProductsCtg(data);\n    setActive(-1);\n    setInitialState(data);\n\n    return () => {\n      setProducts([]);\n      setProductsFiltered([]);\n      setFocus();\n      setCategories([]);\n      setActive();\n      setInitialState();\n    };\n  }, []);\n\n  // Product Methods\n  const searchProduct = (text) => {\n    setProductsFiltered(\n      products.filter((i) => i.name.toLowerCase().includes(text.toLowerCase()))\n    );\n  };\n\n  const openList = () => {\n    setFocus(true);\n  };\n\n  const onBlur = () => {\n    setFocus(false);\n  };\n\n  // Categories\n  const changeCtg = (ctg) => {\n    {\n      ctg === \"all\"\n        ? [setProductsCtg(initialState), setActive(true)]\n        : [\n            setProductsCtg(\n              products.filter((i) => i.category.$oid === ctg),\n              setActive(true)\n            ),\n          ];\n    }\n  };\n\n  return (\n    <Container>\n      <Header searchBar rounded>\n        <Item>\n          <Icon name=\"ios-search\" />\n          <Input\n            placeholder=\"Search\"\n            onFocus={openList}\n            onChangeText={(text) => searchProduct(text)}\n          />\n          {focus == true ? <Icon onPress={onBlur} name=\"ios-close\" /> : null}\n        </Item>\n      </Header>\n      {focus == true ? (\n        <SearchedProduct productsFiltered={productsFiltered} />\n      ) : (\n        <ScrollView>\n          <View>\n            <View>\n              <Banner />\n            </View>\n            <View>\n              <CategoryFilter\n                categories={categories}\n                categoryFilter={changeCtg}\n                productsCtg={productsCtg}\n                active={active}\n                setActive={setActive}\n              />\n            </View>\n            {productsCtg.length > 0 ? (\n            <View style={styles.listContainer}>\n                {productsCtg.map((item) => {\n                    return(\n                        <ProductList\n                            key={item._id}\n                            item={item}\n                        />\n                    )\n                })}\n            </View>\n            ) : (\n                <View style={[styles.center, { height: height / 2}]}>\n                    <Text>No products found</Text>\n                </View>\n            )}\n           \n          </View>\n        </ScrollView>\n      )}\n    </Container>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexWrap: \"wrap\",\n    backgroundColor: \"gainsboro\",\n  },\n  listContainer: {\n    height: height,\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"flex-start\",\n    flexWrap: \"wrap\",\n    backgroundColor: \"gainsboro\",\n  },\n  center: {\n      justifyContent: 'center',\n      alignItems: 'center'\n  }\n});\n\nexport default ProductContainer;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useReducer, userEffect, useState } from \"react\";\nimport jwt_decode from \"jwt-decode\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport authReducer from \"../reducers/Auth.reducer\";\nimport { setCurrentUser } from \"../actions/Auth.actions\";\nimport AuthGlobal from \"./AuthGlobal\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Auth = function Auth(props) {\n  var _useReducer = useReducer(authReducer, {\n      isAuthenticated: null,\n      user: {}\n    }),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    stateUser = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showChild = _useState2[0],\n    setShowChild = _useState2[1];\n  useEffect(function () {\n    setShowChild(true);\n    if (AsyncStorage.jwt) {\n      var decoded = AsyncStorage.jwt ? AsyncStorage.jwt : \"\";\n      if (setShowChild) {\n        dispatch(setCurrentUserUser(jwt_decode(decoded)));\n      }\n    }\n    return function () {\n      return setShowChild(false);\n    };\n  }, []);\n  if (!showChild) {\n    return null;\n  } else {\n    return _jsx(AuthGlobal.Provider, {\n      value: {\n        stateUser: stateUser,\n        dispatch: dispatch\n      },\n      children: props.children\n    });\n  }\n};\nexport default Auth;","map":{"version":3,"names":["React","useEffect","useReducer","userEffect","useState","jwt_decode","AsyncStorage","authReducer","setCurrentUser","AuthGlobal","Auth","props","isAuthenticated","user","stateUser","dispatch","showChild","setShowChild","jwt","decoded","setCurrentUserUser","children"],"sources":["C:/Users/AfroMiNA/OneDrive/Desktop/ecom/mern-stack-ecommerce/easy-shop/Context/store/Auth.js"],"sourcesContent":["import React, { useEffect, useReducer, userEffect, useState } from \"react\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport AsyncStorage from \"@react-native-community/async-storage\"\r\n\r\nimport authReducer from \"../reducers/Auth.reducer\";\r\nimport { setCurrentUser } from \"../actions/Auth.actions\";\r\nimport AuthGlobal from './AuthGlobal'\r\n\r\nconst Auth = props => {\r\n    const [stateUser, dispatch] = useReducer(authReducer, {\r\n        isAuthenticated: null,\r\n        user: {}\r\n    });\r\n    const [showChild, setShowChild] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setShowChild(true);\r\n        if (AsyncStorage.jwt) {\r\n            const decoded = AsyncStorage.jwt ? AsyncStorage.jwt : \"\";\r\n            if (setShowChild) {\r\n                dispatch(setCurrentUserUser(jwt_decode(decoded)))\r\n            }\r\n        }\r\n        return () => setShowChild(false);\r\n    }, [])\r\n\r\n\r\n    if (!showChild) {\r\n        return null;\r\n    } else {\r\n        return (\r\n            <AuthGlobal.Provider\r\n                value={{\r\n                    stateUser,\r\n                    dispatch\r\n                }}\r\n            >\r\n                {props.children}\r\n            </AuthGlobal.Provider>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Auth;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,UAAU,EAAEC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAC1E,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,YAAY,MAAM,uCAAuC;AAEhE,OAAOC,WAAW;AAClB,SAASC,cAAc;AACvB,OAAOC,UAAU;AAAoB;AAErC,IAAMC,IAAI,GAAG,SAAPA,IAAI,CAAGC,KAAK,EAAI;EAClB,kBAA8BT,UAAU,CAACK,WAAW,EAAE;MAClDK,eAAe,EAAE,IAAI;MACrBC,IAAI,EAAE,CAAC;IACX,CAAC,CAAC;IAAA;IAHKC,SAAS;IAAEC,QAAQ;EAI1B,gBAAkCX,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA1CY,SAAS;IAAEC,YAAY;EAE9BhB,SAAS,CAAC,YAAM;IACZgB,YAAY,CAAC,IAAI,CAAC;IAClB,IAAIX,YAAY,CAACY,GAAG,EAAE;MAClB,IAAMC,OAAO,GAAGb,YAAY,CAACY,GAAG,GAAGZ,YAAY,CAACY,GAAG,GAAG,EAAE;MACxD,IAAID,YAAY,EAAE;QACdF,QAAQ,CAACK,kBAAkB,CAACf,UAAU,CAACc,OAAO,CAAC,CAAC,CAAC;MACrD;IACJ;IACA,OAAO;MAAA,OAAMF,YAAY,CAAC,KAAK,CAAC;IAAA;EACpC,CAAC,EAAE,EAAE,CAAC;EAGN,IAAI,CAACD,SAAS,EAAE;IACZ,OAAO,IAAI;EACf,CAAC,MAAM;IACH,OACI,KAAC,UAAU,CAAC,QAAQ;MAChB,KAAK,EAAE;QACHF,SAAS,EAATA,SAAS;QACTC,QAAQ,EAARA;MACJ,CAAE;MAAA,UAEDJ,KAAK,CAACU;IAAQ,EACG;EAE9B;AACJ,CAAC;AAED,eAAeX,IAAI"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Fab = undefined;\nvar _jsxFileName = 'src/basic/Fab.js';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _lodash = require('lodash');\n\nvar _nativeBaseShoutemTheme = require('native-base-shoutem-theme');\n\nvar _platform = require(\"../theme/variables/platform\");\n\nvar _platform2 = _interopRequireDefault(_platform);\n\nvar _commonColor = require(\"../theme/variables/commonColor\");\n\nvar _computeProps = require(\"../utils/computeProps\");\n\nvar _computeProps2 = _interopRequireDefault(_computeProps);\n\nvar _mapPropsToStyleNames = require(\"../utils/mapPropsToStyleNames\");\n\nvar _mapPropsToStyleNames2 = _interopRequireDefault(_mapPropsToStyleNames);\n\nvar _Button = require(\"./Button\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar DIRECTION = {\n  DOWN: 'down',\n  LEFT: 'left',\n  RIGHT: 'right',\n  UP: 'up'\n};\nvar POSITION = {\n  BOTTOM_LEFT: 'bottomLeft',\n  BOTTOM_RIGHT: 'bottomRight',\n  TOP_LEFT: 'topLeft',\n  TOP_RIGHT: 'topRight'\n};\n\nvar AnimatedFab = _reactNative.Animated.createAnimatedComponent(_Button.Button);\n\nvar Fab = function (_Component) {\n  _inherits(Fab, _Component);\n\n  function Fab(props) {\n    _classCallCheck(this, Fab);\n\n    var _this = _possibleConstructorReturn(this, (Fab.__proto__ || Object.getPrototypeOf(Fab)).call(this, props));\n\n    _this.prepareButtonProps = function (child) {\n      var inp = (0, _lodash.clone)(child.props);\n      delete inp.style;\n      var defaultProps = {};\n      return (0, _computeProps2.default)(inp, defaultProps);\n    };\n\n    _this.fabTopValue = function (pos) {\n      if (pos === POSITION.TOP_LEFT) {\n        return {\n          top: _platform2.default.fabDefaultPosition,\n          bottom: undefined,\n          left: _platform2.default.fabDefaultPosition,\n          right: undefined\n        };\n      } else if (pos === POSITION.BOTTOM_RIGHT) {\n        return {\n          top: undefined,\n          bottom: _platform2.default.fabDefaultPosition,\n          left: undefined,\n          right: _platform2.default.fabDefaultPosition\n        };\n      } else if (pos === POSITION.BOTTOM_LEFT) {\n        return {\n          top: undefined,\n          bottom: _platform2.default.fabDefaultPosition,\n          left: _platform2.default.fabDefaultPosition,\n          right: undefined\n        };\n      } else if (pos === POSITION.TOP_RIGHT) {\n        return {\n          top: _platform2.default.fabDefaultPosition,\n          bottom: undefined,\n          left: undefined,\n          right: _platform2.default.fabDefaultPosition\n        };\n      }\n\n      return null;\n    };\n\n    _this.containerHeight = new _reactNative.Animated.Value(_platform2.default.fabWidth);\n    _this.containerWidth = new _reactNative.Animated.Value(0);\n    _this.buttonScale = new _reactNative.Animated.Value(0);\n    _this.state = {\n      buttons: undefined,\n      active: false\n    };\n    return _this;\n  }\n\n  _createClass(Fab, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var childrenArray = _react2.default.Children.toArray(this.props.children);\n\n      var icon = (0, _lodash.remove)(childrenArray, function (item) {\n        if (item.type.displayName === 'Styled(Button)') {\n          return true;\n        }\n\n        return null;\n      });\n      this.setState({\n        buttons: icon.length\n      });\n      this.activeTimer = setTimeout(function () {\n        _this2.setState({\n          active: _this2.props.active\n        });\n      }, 0);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.activeTimer) {\n        clearTimeout(this.activeTimer);\n      }\n    }\n  }, {\n    key: 'getOtherButtonStyle',\n    value: function getOtherButtonStyle(child, i) {\n      var _props = this.props,\n          active = _props.active,\n          direction = _props.direction;\n      var type = {\n        top: direction ? this.fabOtherBtns(direction, i).top : undefined,\n        left: direction ? this.fabOtherBtns(direction, i).left : 8,\n        right: direction ? this.fabOtherBtns(direction, i).right : 0,\n        bottom: direction ? this.fabOtherBtns(direction, i).bottom : active === false ? _reactNative.Platform.OS === _commonColor.PLATFORM.IOS ? 8 : 8 : i * 50 + 50\n      };\n      return (0, _lodash.merge)(this.getInitialStyle().buttonStyle, _reactNative.StyleSheet.flatten(child.props.style), type);\n    }\n  }, {\n    key: 'getContainerStyle',\n    value: function getContainerStyle() {\n      return (0, _lodash.merge)(this.getInitialStyle().container, this.props.containerStyle);\n    }\n  }, {\n    key: 'getInitialStyle',\n    value: function getInitialStyle(iconStyle) {\n      var _props2 = this.props,\n          direction = _props2.direction,\n          position = _props2.position;\n      return {\n        fab: {\n          height: _platform2.default.fabWidth,\n          width: _platform2.default.fabWidth,\n          borderRadius: _platform2.default.fabBorderRadius,\n          elevation: _platform2.default.fabElevation,\n          shadowColor: _platform2.default.fabShadowColor,\n          shadowOffset: {\n            width: _platform2.default.fabShadowOffsetWidth,\n            height: _platform2.default.fabShadowOffsetHeight\n          },\n          shadowOpacity: _platform2.default.fabShadowOpacity,\n          justifyContent: 'center',\n          alignItems: 'center',\n          shadowRadius: _platform2.default.fabShadowRadius,\n          position: 'absolute',\n          bottom: _platform2.default.fabBottom,\n          backgroundColor: _platform2.default.fabBackgroundColor\n        },\n        container: {\n          position: 'absolute',\n          top: position ? this.fabTopValue(position).top : undefined,\n          bottom: position ? this.fabTopValue(position).bottom : _platform2.default.fabContainerBottom,\n          right: position ? this.fabTopValue(position).right : _platform2.default.fabContainerBottom,\n          left: position ? this.fabTopValue(position).left : undefined,\n          width: _platform2.default.fabWidth,\n          height: this.containerHeight,\n          flexDirection: direction ? direction === DIRECTION.LEFT || direction === DIRECTION.RIGHT ? 'row' : 'column' : 'column',\n          alignItems: 'center'\n        },\n        iconStyle: _extends({\n          color: _platform2.default.fabIconColor,\n          fontSize: _platform2.default.fabIconSize,\n          lineHeight: _reactNative.Platform.OS === _commonColor.PLATFORM.IOS ? 27 : undefined\n        }, iconStyle),\n        buttonStyle: {\n          position: 'absolute',\n          height: _platform2.default.fabButtonHeight,\n          width: _platform2.default.fabButtonHeight,\n          left: _platform2.default.fabButtonLeft,\n          borderRadius: _platform2.default.fabButtonBorderRadius,\n          transform: this.state.active ? [{\n            scale: new _reactNative.Animated.Value(1)\n          }] : [{\n            scale: this.buttonScale\n          }],\n          marginBottom: _platform2.default.fabButtonMarginBottom,\n          backgroundColor: _platform2.default.fabBackgroundColor\n        }\n      };\n    }\n  }, {\n    key: 'fabOtherBtns',\n    value: function fabOtherBtns(direction, i) {\n      var active = this.props.active;\n\n      if (direction === DIRECTION.UP) {\n        return {\n          top: undefined,\n          bottom: active === false ? _reactNative.Platform.OS === _commonColor.PLATFORM.IOS ? 50 : 5 : i * 50 + 65,\n          left: 8,\n          right: 0\n        };\n      } else if (direction === DIRECTION.LEFT) {\n        return {\n          top: 8,\n          bottom: 0,\n          left: active === false ? _reactNative.Platform.OS === _commonColor.PLATFORM.IOS ? 8 : 8 : -(i * 50 + _platform2.default.fabWidth + 2),\n          right: 0\n        };\n      } else if (direction === DIRECTION.DOWN) {\n        return {\n          top: active === false ? _reactNative.Platform.OS === _commonColor.PLATFORM.IOS ? 50 : 8 : i * 50 + 73,\n          bottom: 0,\n          left: 8,\n          right: 0\n        };\n      } else if (direction === DIRECTION.RIGHT) {\n        return {\n          top: 8,\n          bottom: 0,\n          left: active === false ? _reactNative.Platform.OS === _commonColor.PLATFORM.IOS ? 50 : 8 : i * 50 + 73,\n          right: 0\n        };\n      }\n\n      return null;\n    }\n  }, {\n    key: 'prepareFabProps',\n    value: function prepareFabProps() {\n      var defaultProps = {\n        style: this.getInitialStyle().fab\n      };\n      var incomingProps = (0, _lodash.clone)(this.props);\n      delete incomingProps.onPress;\n      return (0, _computeProps2.default)(incomingProps, defaultProps);\n    }\n  }, {\n    key: 'upAnimate',\n    value: function upAnimate() {\n      if (!this.props.active) {\n        _reactNative.Animated.spring(this.containerHeight, {\n          toValue: this.state.buttons * 51.3 + _platform2.default.fabWidth,\n          useNativeDriver: false\n        }).start();\n\n        _reactNative.Animated.spring(this.buttonScale, {\n          toValue: 1,\n          useNativeDriver: true\n        }).start();\n      } else {\n        this.setState({\n          active: false\n        });\n\n        _reactNative.Animated.spring(this.containerHeight, {\n          toValue: _platform2.default.fabWidth,\n          useNativeDriver: false\n        }).start();\n\n        _reactNative.Animated.spring(this.buttonScale, {\n          toValue: 0,\n          useNativeDriver: true\n        }).start();\n      }\n    }\n  }, {\n    key: 'leftAnimate',\n    value: function leftAnimate() {\n      if (!this.props.active) {\n        _reactNative.Animated.spring(this.containerWidth, {\n          toValue: this.state.buttons * 51.3 + _platform2.default.fabWidth,\n          useNativeDriver: false\n        }).start();\n\n        _reactNative.Animated.spring(this.buttonScale, {\n          toValue: 1,\n          useNativeDriver: true\n        }).start();\n      } else {\n        this.setState({\n          active: false\n        });\n\n        _reactNative.Animated.spring(this.containerHeight, {\n          toValue: _platform2.default.fabWidth,\n          useNativeDriver: false\n        }).start();\n\n        _reactNative.Animated.spring(this.buttonScale, {\n          toValue: 0,\n          useNativeDriver: true\n        }).start();\n      }\n    }\n  }, {\n    key: 'rightAnimate',\n    value: function rightAnimate() {\n      if (!this.props.active) {\n        _reactNative.Animated.spring(this.containerWidth, {\n          toValue: this.state.buttons * 51.3 + _platform2.default.fabWidth,\n          useNativeDriver: false\n        }).start();\n\n        _reactNative.Animated.spring(this.buttonScale, {\n          toValue: 1,\n          useNativeDriver: true\n        }).start();\n      } else {\n        this.setState({\n          active: false\n        });\n\n        _reactNative.Animated.spring(this.containerHeight, {\n          toValue: _platform2.default.fabWidth,\n          useNativeDriver: false\n        }).start();\n\n        _reactNative.Animated.spring(this.buttonScale, {\n          toValue: 0,\n          useNativeDriver: true\n        }).start();\n      }\n    }\n  }, {\n    key: 'downAnimate',\n    value: function downAnimate() {\n      if (!this.props.active) {\n        _reactNative.Animated.spring(this.containerHeight, {\n          toValue: _platform2.default.fabWidth,\n          useNativeDriver: false\n        }).start();\n\n        _reactNative.Animated.spring(this.buttonScale, {\n          toValue: 1,\n          useNativeDriver: true\n        }).start();\n      } else {\n        this.setState({\n          active: false\n        });\n\n        _reactNative.Animated.spring(this.containerHeight, {\n          toValue: _platform2.default.fabWidth\n        }).start();\n\n        _reactNative.Animated.spring(this.buttonScale, {\n          toValue: 0,\n          useNativeDriver: true\n        }).start();\n      }\n    }\n  }, {\n    key: '_animate',\n    value: function _animate() {\n      var _props3 = this.props,\n          direction = _props3.direction,\n          position = _props3.position;\n\n      if (direction) {\n        if (direction === DIRECTION.UP) {\n          if (position === POSITION.TOP_LEFT || position === POSITION.TOP_RIGHT) {\n            console.warn('Passing direction = up with position = topLeft/topRight is not suggested.');\n          } else {\n            this.upAnimate();\n          }\n        } else if (direction === DIRECTION.LEFT) {\n          if (position === POSITION.TOP_LEFT || position === POSITION.BOTTOM_LEFT) {\n            console.warn('Passing direction = left with position = topLeft/bottomLeft is not suggested.');\n          } else {\n            this.leftAnimate();\n          }\n        } else if (direction === DIRECTION.RIGHT) {\n          if (position === POSITION.TOP_RIGHT || position === POSITION.BOTTOM_RIGHT) {\n            console.warn('Passing direction = right with position = topRight/bottomRight is not suggested.');\n          } else {\n            this.rightAnimate();\n          }\n        } else if (direction === DIRECTION.DOWN) {\n          if (position === POSITION.BOTTOM_LEFT || position === POSITION.BOTTOM_RIGHT) {\n            console.warn('Passing direction = down with position = bottomLeft/bottomRight is not suggested.');\n          } else {\n            this.downAnimate();\n          }\n        }\n      } else {\n        this.upAnimate();\n      }\n    }\n  }, {\n    key: 'fabOnPress',\n    value: function fabOnPress() {\n      var _this3 = this;\n\n      if (this.props.onPress) {\n        this.props.onPress();\n\n        this._animate();\n\n        this.activeTimer = setTimeout(function () {\n          _this3.setState({\n            active: _this3.props.active\n          });\n        }, 100);\n      }\n    }\n  }, {\n    key: 'renderButtons',\n    value: function renderButtons() {\n      var _this4 = this;\n\n      var childrenArray = _react2.default.Children.toArray(this.props.children);\n\n      var newChildren = [];\n      childrenArray.slice(1).map(function (child, i) {\n        return newChildren.push(_react2.default.createElement(AnimatedFab, _extends({\n          style: _this4.getOtherButtonStyle(child, i)\n        }, _this4.prepareButtonProps(child, i), {\n          fabButton: true,\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 434\n          }\n        }), child.props.children));\n      });\n      return newChildren;\n    }\n  }, {\n    key: 'renderFab',\n    value: function renderFab() {\n      var childrenArray = _react2.default.Children.toArray(this.props.children);\n\n      (0, _lodash.remove)(childrenArray, function (item) {\n        if (item.type.displayName === 'Styled(Button)') {\n          return true;\n        }\n\n        return null;\n      });\n      return _react2.default.cloneElement(childrenArray[0], {\n        style: this.getInitialStyle(childrenArray[0].props.style).iconStyle\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this5 = this;\n\n      var style = this.props.style;\n      return _react2.default.createElement(_reactNative.Animated.View, {\n        style: this.getContainerStyle(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        }\n      }, this.renderButtons(), _reactNative.Platform.OS === _commonColor.PLATFORM.IOS || _platform2.default.androidRipple === false || _reactNative.Platform.Version <= 21 ? _react2.default.createElement(_reactNative.TouchableOpacity, _extends({\n        onPress: function onPress() {\n          return _this5.fabOnPress();\n        }\n      }, this.prepareFabProps(), {\n        activeOpacity: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        }\n      }), this.renderFab()) : _react2.default.createElement(_reactNative.TouchableNativeFeedback, _extends({\n        onPress: function onPress() {\n          return _this5.fabOnPress();\n        },\n        background: _reactNative.TouchableNativeFeedback.Ripple(_platform2.default.androidRippleColor, false)\n      }, this.prepareFabProps(), {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        }\n      }), _react2.default.createElement(_reactNative.View, {\n        style: [this.getInitialStyle().fab, style],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485\n        }\n      }, this.renderFab())));\n    }\n  }]);\n\n  return Fab;\n}(_react.Component);\n\nvar StyledFab = (0, _nativeBaseShoutemTheme.connectStyle)('NativeBase.Fab', {}, _mapPropsToStyleNames2.default)(Fab);\nexports.Fab = StyledFab;","map":{"version":3,"sources":["../../../src/basic/Fab.js"],"names":["DIRECTION","DOWN","LEFT","RIGHT","UP","POSITION","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","AnimatedFab","Animated","Button","Fab","Component","variables","buttons","active","childrenArray","React","icon","item","setTimeout","clearTimeout","child","i","direction","type","top","left","right","bottom","Platform","PLATFORM","StyleSheet","iconStyle","position","fab","height","width","borderRadius","elevation","shadowColor","shadowOffset","shadowOpacity","justifyContent","alignItems","shadowRadius","backgroundColor","container","flexDirection","color","fontSize","lineHeight","buttonStyle","transform","scale","marginBottom","inp","defaultProps","pos","style","incomingProps","toValue","useNativeDriver","console","newChildren","TouchableNativeFeedback","StyledFab","mapPropsToStyleNames"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Platform,\n  Animated,\n  TouchableOpacity,\n  TouchableNativeFeedback,\n  View,\n  StyleSheet\n} from 'react-native';\nimport { remove, merge, clone } from 'lodash';\nimport { connectStyle } from 'native-base-shoutem-theme';\n\nimport variables from '../theme/variables/platform';\nimport { PLATFORM } from '../theme/variables/commonColor';\nimport computeProps from '../utils/computeProps';\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\n\nimport { Button } from './Button';\n\nconst DIRECTION = {\n  DOWN: 'down',\n  LEFT: 'left',\n  RIGHT: 'right',\n  UP: 'up'\n};\n\nconst POSITION = {\n  BOTTOM_LEFT: 'bottomLeft',\n  BOTTOM_RIGHT: 'bottomRight',\n  TOP_LEFT: 'topLeft',\n  TOP_RIGHT: 'topRight'\n};\n\nconst AnimatedFab = Animated.createAnimatedComponent(Button);\n\nclass Fab extends Component {\n  constructor(props) {\n    super(props);\n    this.containerHeight = new Animated.Value(variables.fabWidth);\n    this.containerWidth = new Animated.Value(0);\n    this.buttonScale = new Animated.Value(0);\n    this.state = {\n      buttons: undefined,\n      active: false\n    };\n  }\n\n  componentDidMount() {\n    const childrenArray = React.Children.toArray(this.props.children);\n    const icon = remove(childrenArray, item => {\n      if (item.type.displayName === 'Styled(Button)') {\n        return true;\n      }\n      return null;\n    });\n    // eslint-disable-next-line react/no-did-mount-set-state\n    this.setState({\n      buttons: icon.length\n    });\n    this.activeTimer = setTimeout(() => {\n      this.setState({\n        active: this.props.active\n      });\n    }, 0);\n  }\n\n  componentWillUnmount() {\n    if (this.activeTimer) {\n      clearTimeout(this.activeTimer);\n    }\n  }\n\n  getOtherButtonStyle(child, i) {\n    const { active, direction } = this.props;\n    const type = {\n      top: direction ? this.fabOtherBtns(direction, i).top : undefined,\n      left: direction ? this.fabOtherBtns(direction, i).left : 8,\n      right: direction ? this.fabOtherBtns(direction, i).right : 0,\n      bottom: direction\n        ? this.fabOtherBtns(direction, i).bottom\n        : active === false\n        ? Platform.OS === PLATFORM.IOS\n          ? 8\n          : 8\n        : i * 50 + 50\n    };\n\n    return merge(\n      this.getInitialStyle().buttonStyle,\n      StyleSheet.flatten(child.props.style),\n      type\n    );\n  }\n\n  getContainerStyle() {\n    return merge(this.getInitialStyle().container, this.props.containerStyle);\n  }\n\n  getInitialStyle(iconStyle) {\n    const { direction, position } = this.props;\n    return {\n      fab: {\n        height: variables.fabWidth,\n        width: variables.fabWidth,\n        borderRadius: variables.fabBorderRadius,\n        elevation: variables.fabElevation,\n        shadowColor: variables.fabShadowColor,\n        shadowOffset: {\n          width: variables.fabShadowOffsetWidth,\n          height: variables.fabShadowOffsetHeight\n        },\n        shadowOpacity: variables.fabShadowOpacity,\n        justifyContent: 'center',\n        alignItems: 'center',\n        shadowRadius: variables.fabShadowRadius,\n        position: 'absolute',\n        bottom: variables.fabBottom,\n        backgroundColor: variables.fabBackgroundColor\n      },\n      container: {\n        position: 'absolute',\n        top: position ? this.fabTopValue(position).top : undefined,\n        bottom: position\n          ? this.fabTopValue(position).bottom\n          : variables.fabContainerBottom,\n        right: position\n          ? this.fabTopValue(position).right\n          : variables.fabContainerBottom,\n        left: position ? this.fabTopValue(position).left : undefined,\n        width: variables.fabWidth,\n        height: this.containerHeight,\n        flexDirection: direction\n          ? direction === DIRECTION.LEFT || direction === DIRECTION.RIGHT\n            ? 'row'\n            : 'column'\n          : 'column',\n        alignItems: 'center'\n      },\n      iconStyle: {\n        color: variables.fabIconColor,\n        fontSize: variables.fabIconSize,\n        lineHeight: Platform.OS === PLATFORM.IOS ? 27 : undefined,\n        ...iconStyle\n      },\n      buttonStyle: {\n        position: 'absolute',\n        height: variables.fabButtonHeight,\n        width: variables.fabButtonHeight,\n        left: variables.fabButtonLeft,\n        borderRadius: variables.fabButtonBorderRadius,\n        transform: this.state.active\n          ? [{ scale: new Animated.Value(1) }]\n          : [{ scale: this.buttonScale }],\n        marginBottom: variables.fabButtonMarginBottom,\n        backgroundColor: variables.fabBackgroundColor\n      }\n    };\n  }\n\n  prepareButtonProps = child => {\n    const inp = clone(child.props);\n    delete inp.style;\n\n    const defaultProps = {};\n\n    return computeProps(inp, defaultProps);\n  };\n\n  fabTopValue = pos => {\n    if (pos === POSITION.TOP_LEFT) {\n      return {\n        top: variables.fabDefaultPosition,\n        bottom: undefined,\n        left: variables.fabDefaultPosition,\n        right: undefined\n      };\n    } else if (pos === POSITION.BOTTOM_RIGHT) {\n      return {\n        top: undefined,\n        bottom: variables.fabDefaultPosition,\n        left: undefined,\n        right: variables.fabDefaultPosition\n      };\n    } else if (pos === POSITION.BOTTOM_LEFT) {\n      return {\n        top: undefined,\n        bottom: variables.fabDefaultPosition,\n        left: variables.fabDefaultPosition,\n        right: undefined\n      };\n    } else if (pos === POSITION.TOP_RIGHT) {\n      return {\n        top: variables.fabDefaultPosition,\n        bottom: undefined,\n        left: undefined,\n        right: variables.fabDefaultPosition\n      };\n    }\n    return null;\n  };\n\n  fabOtherBtns(direction, i) {\n    const { active } = this.props;\n    if (direction === DIRECTION.UP) {\n      return {\n        top: undefined,\n        bottom:\n          active === false\n            ? Platform.OS === PLATFORM.IOS\n              ? 50\n              : 5\n            : i * 50 + 65,\n        left: 8,\n        right: 0\n      };\n    } else if (direction === DIRECTION.LEFT) {\n      return {\n        top: 8,\n        bottom: 0,\n        left:\n          active === false\n            ? Platform.OS === PLATFORM.IOS\n              ? 8\n              : 8\n            : -(i * 50 + variables.fabWidth + 2),\n        right: 0\n      };\n    } else if (direction === DIRECTION.DOWN) {\n      return {\n        top:\n          active === false\n            ? Platform.OS === PLATFORM.IOS\n              ? 50\n              : 8\n            : i * 50 + 73,\n        bottom: 0,\n        left: 8,\n        right: 0\n      };\n    } else if (direction === DIRECTION.RIGHT) {\n      return {\n        top: 8,\n        bottom: 0,\n        left:\n          active === false\n            ? Platform.OS === PLATFORM.IOS\n              ? 50\n              : 8\n            : i * 50 + 73,\n        right: 0\n      };\n    }\n    return null;\n  }\n\n  prepareFabProps() {\n    const defaultProps = {\n      style: this.getInitialStyle().fab\n    };\n    const incomingProps = clone(this.props);\n    delete incomingProps.onPress;\n\n    return computeProps(incomingProps, defaultProps);\n  }\n\n  upAnimate() {\n    if (!this.props.active) {\n      Animated.spring(this.containerHeight, {\n        toValue: this.state.buttons * 51.3 + variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 1,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this.setState({\n        active: false\n      });\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n\n  leftAnimate() {\n    if (!this.props.active) {\n      Animated.spring(this.containerWidth, {\n        toValue: this.state.buttons * 51.3 + variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 1,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this.setState({\n        active: false\n      });\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n\n  rightAnimate() {\n    if (!this.props.active) {\n      Animated.spring(this.containerWidth, {\n        toValue: this.state.buttons * 51.3 + variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 1,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this.setState({\n        active: false\n      });\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n\n  downAnimate() {\n    if (!this.props.active) {\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 1,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this.setState({\n        active: false\n      });\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n  _animate() {\n    const {\n      props: { direction, position }\n    } = this;\n\n    if (direction) {\n      if (direction === DIRECTION.UP) {\n        if (position === POSITION.TOP_LEFT || position === POSITION.TOP_RIGHT) {\n          console.warn(\n            'Passing direction = up with position = topLeft/topRight is not suggested.'\n          );\n        } else {\n          this.upAnimate();\n        }\n      } else if (direction === DIRECTION.LEFT) {\n        if (\n          position === POSITION.TOP_LEFT ||\n          position === POSITION.BOTTOM_LEFT\n        ) {\n          console.warn(\n            'Passing direction = left with position = topLeft/bottomLeft is not suggested.'\n          );\n        } else {\n          this.leftAnimate();\n        }\n      } else if (direction === DIRECTION.RIGHT) {\n        if (\n          position === POSITION.TOP_RIGHT ||\n          position === POSITION.BOTTOM_RIGHT\n        ) {\n          console.warn(\n            'Passing direction = right with position = topRight/bottomRight is not suggested.'\n          );\n        } else {\n          this.rightAnimate();\n        }\n      } else if (direction === DIRECTION.DOWN) {\n        if (\n          position === POSITION.BOTTOM_LEFT ||\n          position === POSITION.BOTTOM_RIGHT\n        ) {\n          console.warn(\n            'Passing direction = down with position = bottomLeft/bottomRight is not suggested.'\n          );\n        } else {\n          this.downAnimate();\n        }\n      }\n    } else {\n      this.upAnimate();\n    }\n  }\n\n  fabOnPress() {\n    if (this.props.onPress) {\n      this.props.onPress();\n      this._animate();\n      this.activeTimer = setTimeout(() => {\n        this.setState({\n          active: this.props.active\n        });\n      }, 100);\n    }\n  }\n\n  renderButtons() {\n    const childrenArray = React.Children.toArray(this.props.children);\n    const newChildren = [];\n    childrenArray.slice(1).map((child, i) =>\n      newChildren.push(\n        <AnimatedFab\n          style={this.getOtherButtonStyle(child, i)}\n          {...this.prepareButtonProps(child, i)}\n          fabButton\n          key={i}\n        >\n          {child.props.children}\n        </AnimatedFab>\n      )\n    );\n    return newChildren;\n  }\n\n  renderFab() {\n    const childrenArray = React.Children.toArray(this.props.children);\n    remove(childrenArray, item => {\n      if (item.type.displayName === 'Styled(Button)') {\n        return true;\n      }\n      return null;\n    });\n    return React.cloneElement(childrenArray[0], {\n      style: this.getInitialStyle(childrenArray[0].props.style).iconStyle\n    });\n  }\n\n  render() {\n    const { style } = this.props;\n    return (\n      <Animated.View style={this.getContainerStyle()}>\n        {this.renderButtons()}\n        {Platform.OS === PLATFORM.IOS ||\n        variables.androidRipple === false ||\n        Platform.Version <= 21 ? (\n          <TouchableOpacity\n            onPress={() => this.fabOnPress()}\n            {...this.prepareFabProps()}\n            activeOpacity={1}\n          >\n            {this.renderFab()}\n          </TouchableOpacity>\n        ) : (\n          <TouchableNativeFeedback\n            onPress={() => this.fabOnPress()}\n            // eslint-disable-next-line new-cap\n            background={TouchableNativeFeedback.Ripple(\n              variables.androidRippleColor,\n              false\n            )}\n            {...this.prepareFabProps()}\n          >\n            <View style={[this.getInitialStyle().fab, style]}>\n              {this.renderFab()}\n            </View>\n          </TouchableNativeFeedback>\n        )}\n      </Animated.View>\n    );\n  }\n}\nconst StyledFab = connectStyle('NativeBase.Fab', {}, mapPropsToStyleNames)(Fab);\nexport { StyledFab as Fab };\n"]},"metadata":{},"sourceType":"script"}